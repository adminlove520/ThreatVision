## 问题分析

当前系统在没有Redis服务器的环境下（如GitHub Actions workflow和本地Windows环境）总是尝试连接Redis，导致：
1. 大量的Redis连接错误日志
2. 不必要的性能开销
3. 潜在的系统启动问题

## 解决方案

根据用户的询问，我提供两种解决方案：

### 方案1：在GitHub Actions workflow中安装并启动Redis

**实施步骤**：
1. 更新`.github/workflows/deploy_ui.yml`，添加Redis安装和启动步骤
2. 使用GitHub Actions的`services`功能，在workflow中启动Redis服务
3. 确保系统能够连接到workflow中启动的Redis服务

**优点**：
- 保持系统原有的Redis队列功能
- 不需要修改太多代码
- 适合CI/CD环境

**缺点**：
- 增加workflow的运行时间和资源消耗
- 本地开发环境仍需要安装Redis

### 方案2：优化系统，使其在没有Redis的情况下也能正常工作

**实施步骤**：
1. 添加Redis开关配置，允许用户完全禁用Redis功能
2. 优化QueueManager初始化逻辑，根据开关决定是否尝试连接Redis
3. 确保在没有Redis的情况下，系统使用内存队列正常运行

**优点**：
- 减少不必要的性能开销和日志噪音
- 提高系统的可靠性和兼容性
- 不需要在所有环境中安装Redis
- 适合本地开发和CI/CD环境

**缺点**：
- 需要修改代码
- 内存队列的功能有限（没有持久化、没有分布式支持等）

## 推荐方案

考虑到系统的灵活性和兼容性，我推荐**方案2**：优化系统，使其在没有Redis的情况下也能正常工作。这样可以确保系统在任何环境下都能正常运行，同时减少不必要的依赖和配置。

## 实施步骤

1. 更新`config.yaml`，添加Redis开关配置
2. 更新`config.py`，解析Redis开关配置
3. 优化`QueueManager.__init__`方法，根据开关决定是否尝试连接Redis
4. 测试系统在Redis禁用情况下的运行情况
5. 测试系统在Redis启用情况下的运行情况

## 预期效果

- 当Redis被禁用时，系统不会尝试连接Redis，没有Redis连接错误日志
- 当Redis被启用时，系统正常连接Redis，使用Redis队列
- 系统在两种情况下都能正常运行，使用相应的队列机制
- 减少不必要的性能开销和日志噪音
- 提高系统的可靠性和兼容性